<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Personal Projects — Thomas Watson</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
  <!-- Font Awesome for Toggle Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* --- Global Styles --- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
        --primary-blue: #0000FF; --text-primary: #212529; --text-secondary: #6c757d;
        --background: #f8f9fa; --card-background: #ffffff; --border-color: #dee2e6;
        --border-light: #e9ecef;
    }
    body {
      font-family: 'Montserrat', sans-serif;
      background-color: var(--background);
      color: var(--text-primary);
      line-height: 1.6;
      padding: 40px 20px;
      font-weight: 300;
    }

    /* --- Links & Headers --- */
    a {
      color: var(--primary-blue);
      text-decoration: none;
      font-weight: 500;
      transition: opacity 0.2s ease;
    }
    a:hover {
      text-decoration: none;
      opacity: 0.7;
    }
    header, footer {
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
    }
    header { margin-bottom: 60px; }
    h1 { font-weight: 600; font-size: 2.5rem; letter-spacing: 2px; }
    h3 { font-weight: 500; margin-bottom: 10px; font-size: 1.3rem; }

    /* --- Layout & Cards --- */
    .back-link {
      font-size: 1rem;
      color: var(--text-secondary);
      text-decoration: none;
      display: inline-block;
      margin-top: 15px;
      transition: color 0.2s ease;
    }
    .back-link:hover { color: var(--primary-blue); opacity: 1; }
    
    .projects {
      display: grid;
      grid-template-columns: 1fr; /* Single column stack */
      gap: 35px;
      max-width: 900px; /* Constrained width for readability */
      margin: 0 auto;
    }
    
    .card {
      background: var(--card-background);
      border: 1px solid var(--border-color);
      padding: 20px;
      border-radius: 14px;
      display: flex;
      flex-direction: column;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.06);
    }
    /* Slight lift on hover is okay, but kept minimal */
    .card:hover {
      box-shadow: 0 6px 20px rgba(0, 0, 255, 0.1);
    }
    
    .meta { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 15px; font-style: italic; }
    .card p { margin-bottom: 10px; color: #495057; }
    .card strong { color: var(--primary-blue); font-weight: 600; display: block; margin-bottom: 5px; }
    .links { margin-top: auto; }

    .card p a {
      color: var(--text-primary);
      font-weight: 400;
      text-decoration: underline;
      transition: color 0.2s ease, opacity 0.2s ease;
    }
    .card p a:hover {
      color: var(--primary-blue);
      opacity: 1;
      text-decoration: underline;
    }

    /* --- DESCRIPTION TOGGLE STYLES --- */
    .description-wrapper {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.6s ease-in-out, opacity 0.4s ease-in-out;
        opacity: 0;
    }
    .card.expanded .description-wrapper {
        max-height: 4000px; /* Large enough to show all content */
        opacity: 1;
    }
    
    .toggle-bar {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        padding: 12px;
        margin-top: 15px;
        background-color: #f8f9fa;
        border-radius: 8px;
        cursor: pointer;
        color: var(--primary-blue);
        font-weight: 500;
        transition: background-color 0.2s ease;
        user-select: none;
    }
    .toggle-bar:hover {
        background-color: #e9ecef;
    }
    .toggle-icon {
        margin-left: 8px;
        transition: transform 0.3s ease;
    }
    .card.expanded .toggle-icon {
        transform: rotate(180deg);
    }

    /* --- DATA TABLES --- */
    .data-table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
      font-size: 0.85rem;
      color: #495057;
    }
    .data-table th, .data-table td {
      border: 1px solid var(--border-light);
      padding: 8px;
      text-align: center;
    }
    .data-table th {
      background-color: #f1f3f5;
      font-weight: 600;
      color: var(--text-primary);
    }
    .data-table td:first-child {
      font-weight: 500;
      text-align: left;
      padding-left: 12px;
    }

    /* --- Slideshow Styles --- */
    .slideshow-container { 
        position: relative; 
        max-width: 100%; 
        margin-bottom: 15px;
        overflow: hidden; 
        border-radius: 12px;
        background-color: #ffffff; /* Pure white background */
    }
    .slide { display: none; width: 100%; animation: fadeEffect 0.8s ease; }
    
    /* Fixed Image Styling to prevent cropping */
    .slide img { 
        display: block; 
        width: 100%; 
        /* Taller height to accommodate vertical photos without buttons jumping */
        height: 550px; 
        /* Ensure entire image is visible */
        object-fit: contain; 
        object-position: center;
        background-color: #ffffff;
    }
    
    .slide.active { display: block; }
    @keyframes fadeEffect { from { opacity: 0.4; } to { opacity: 1; } }
    
    .prev, .next { 
        cursor: pointer; 
        position: absolute; 
        top: 50%; 
        transform: translateY(-50%); 
        width: auto; 
        padding: 16px; 
        color: #333; /* Darker arrows for visibility on white */
        font-weight: bold; 
        font-size: 20px; 
        background-color: rgba(255, 255, 255, 0.5); 
        border-radius: 0 3px 3px 0; 
        user-select: none; 
        transition: background-color 0.3s ease; 
    }
    .next { right: 0; border-radius: 3px 0 0 3px; }
    .prev:hover, .next:hover { background-color: rgba(255, 255, 255, 0.8); }

    /* --- Caption Styles --- */
    .caption-container { 
        text-align: center; 
        padding: 10px 0 5px 0; 
        color: var(--text-secondary); 
        font-size: 0.9rem; 
        min-height: 1.5em; 
        font-style: italic; 
        transition: opacity 0.15s ease-in-out; 
    }

    /* --- Footer --- */
    footer {
      margin-top: 80px;
      padding-top: 40px;
      border-top: 1px solid var(--border-color);
      color: var(--text-secondary);
      font-size: 0.9rem;
    }
    footer p:first-child a { margin: 0 10px; }

    /* --- Responsive Adjustments --- */
    @media (max-width: 768px) {
        .prev, .next { font-size: 16px; padding: 12px; }
        .slide img { height: 350px; /* Smaller fixed height for mobile */ }
    }
  </style>
</head>
<body>

  <header>
    <h1>Personal Projects</h1>
    <a href="index.html" class="back-link">&larr; Back to Home</a>
  </header>

  <section class="projects">

    <!-- === PROJECT: ROBOT HAND === -->
    <article class="card" data-project-id="robot-hand-project"> 
      <div class="slideshow-container">
        <div class="slide active"><img src="images/cover_final.png" alt="Project Overview: CAD model, hand-tracking AI interface, and the finalized robotic hand"></div>
        <div class="slide"><img src="images/peace.png" alt="Real-time Demo: V1.1 hand successfully mimicking a 'peace' gesture via the Pi's AI interface"></div>
        <div class="slide"><img src="images/handfrontback.png" alt="Mechanical Detail: Front and back views showcasing the custom 10-DOF antagonistic tendon design"></div>
        <div class="slide"><img src="images/iterations.png" alt="Design Evolution: A timeline of 3D-printed prototypes from initial drafts to the current V1.1 model"></div>
        <a class="prev" onclick="manualSlideChange('robot-hand-project', -1)">&#10094;</a>
        <a class="next" onclick="manualSlideChange('robot-hand-project', 1)">&#10095;</a>
      </div>
      <div class="caption-container">Project Overview: CAD model, hand-tracking AI interface, and the finalized robotic hand</div> 
      
      <h3>AI-Powered Robotic Hand</h3>
      <p class="meta">Skills: Computer Vision, Mechanical Design, SolidWorks, Python, Raspberry Pi</p>
      
      <!-- TOGGLE BAR -->
      <div class="toggle-bar" onclick="toggleDescription(this)">
          <span>View Details</span>
          <i class="fas fa-chevron-down toggle-icon"></i>
      </div>

      <!-- HIDDEN CONTENT -->
      <div class="description-wrapper">
          <div style="padding-top: 20px;">
              <p>
                <strong>Challenge:</strong> To engineer a biomimetic, 10-Degree-of-Freedom (DOF) robotic hand from first principles, capable of high-fidelity, real-time motion mimicry controlled solely by a human hand and a camera.
              </p>
              <p>
                <strong>My Solution:</strong> I developed a complete, full-stack robotic system. The control architecture, running on a Raspberry Pi, uses MediaPipe for real-time 3D hand tracking. I invested significant effort into the control logic, engineering a custom ratio-based tuning algorithm to filter high-dimensional pose data into smooth, jitter-free servo commands. This allows for scale-invariant control, meaning the hand mimics gestures accurately regardless of my hand's distance from the camera.
              </p>
              
              <p>
                <strong>Mechanical Design (Version 2.0):</strong> My design process was highly iterative. I initially experimented with a "tendonless" printed-linkage design, but I found that the friction inherent in FDM 3D prints made the motion jerky and unreliable. I pivoted to an antagonistic tendon system using high-strength fishing line (flexion) and elastic cord (extension), which proved far more robust.
              </p>
              <p>
                I started by perfecting the geometry of a single finger. Through rapid prototyping and testing, I converged on a proximal/distal joint design that naturally sits at a slight resting angle, mimicking human anatomy. Once the mechanics were solid, I researched anthropometric data on human finger ratios (1 : 1.3 : 2.3) to scale this single finger design into a full hand. I adjusted the extruded lengths of each proximal phalanx to match real-life proportions and designed the palm layout based on measurements of my own hand to ensure natural spacing.
              </p>
              
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Finger</th>
                    <th>Proximal Δ</th>
                    <th>Middle Δ</th>
                    <th>Distal Δ</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td>Thumb</td><td>−5.60 mm</td><td>N/A</td><td>−10.43 mm</td></tr>
                  <tr><td>Index</td><td>−3.89 mm</td><td>−12.32 mm</td><td>−10.43 mm</td></tr>
                  <tr><td>Middle</td><td>0.00 mm</td><td>−12.32 mm</td><td>−10.43 mm</td></tr>
                  <tr><td>Ring</td><td>−2.97 mm</td><td>−12.32 mm</td><td>−10.43 mm</td></tr>
                  <tr><td>Little</td><td>−9.96 mm</td><td>−12.32 mm</td><td>−10.43 mm</td></tr>
                </tbody>
              </table>

              <p>
                <strong>Results (In Progress):</strong> The V1.1 prototype is fully functional. The computer vision pipeline, adaptive control logic, and live-streaming video feedback systems are complete and tuned. The mechanical assembly has successfully demonstrated real-time gesture mimicry, and I am currently engineering <strong>Version 3.0</strong> to integrate a 2-DOF thumb for opposition and a 2-DOF wrist for complex manipulation.
              </p>
          </div>
      </div>
    </article>

    <!-- === PROJECT: CONTROLLER === -->
    <article class="card" data-project-id="controller-project"> 
      <div class="slideshow-container">
        <div class="slide active"><img src="images/controller-project.png" alt="CAD rendering of the initial controller design"></div>
        <div class="slide"><img src="images/personal2.png" alt="3D printing of the original controller design"></div>
        <div class="slide"><img src="images/personal3.png" alt="Original controller design with embedded electronics for testing"></div>
        <div class="slide"><img src="images/personal4.png" alt="Final controller design with updated ergonomics and dual joysticks"></div>
        <div class="slide"><img src="images/personal5.png" alt="Finalized controller with all electronics integrated and wired"></div>
        <div class="slide"><img src="images/personal6.png" alt="Screenshot of the custom video game during real-time gameplay"></div>
        <a class="prev" onclick="manualSlideChange('controller-project', -1)">&#10094;</a>
        <a class="next" onclick="manualSlideChange('controller-project', 1)">&#10095;</a>
      </div>
      <div class="caption-container">CAD rendering of the initial controller design</div> 
      
      <h3>Arduino-Matlab Video Game System</h3>
      <p class="meta">Skills: Mechanical Design, 3D Printing, MATLAB, Arduino, ODEs</p>
      
      <!-- TOGGLE BAR -->
      <div class="toggle-bar" onclick="toggleDescription(this)">
          <span>View Details</span>
          <i class="fas fa-chevron-down toggle-icon"></i>
      </div>

      <!-- HIDDEN CONTENT -->
      <div class="description-wrapper">
          <div style="padding-top: 20px;">
              <p>
                <strong>Challenge:</strong> To design, manufacture, and program a complete 2D video game system from first principles. The goal was to create a custom-built, ergonomic controller and develop a game where the physics were not pre-canned, but governed by real-time mathematical models.
              </p>
              <p>
                <strong>My Solution:</strong> I engineered a full-stack solution, starting with a 3D-printed, ergonomic controller designed in SolidWorks for an improved user experience over standard models. For the electronics, I used an Arduino to process analog and digital inputs from the joysticks. The core of the project is the software, written in MATLAB, which features a custom "handshaking" protocol to receive data from the Arduino. All in-game movement is governed by a Runge-Kutta (RK4) differential equation modeler I implemented to simulate Newtonian physics, creating a realistic mass-and-damper feel.
              </p>
              <p>
                <strong>Results:</strong> The final product is a fully functional gaming system with a custom controller and a physics-driven game. This project demonstrates my ability to manage an end-to-end design lifecycle, combining ergonomic mechanical design, hardware integration (Arduino), and complex software development (MATLAB) with advanced mathematical modeling.
              </p>

              <div class="links">
                <a href="images/project-videogame-system.pdf" target="_blank">View Full Project PDF</a>
              </div>
          </div>
      </div>
    </article>
    
  </section>

  <footer>
    <p>
      <a href="images/resume.pdf" target="_blank"> Download Resume</a> ·
      <a href="mailto:thomaswatson1188@gmail.com">Email Me</a> ·
      <a href="https://linkedin.com/in/thomaswatsonn" target="_blank">LinkedIn</a>
    </p>
    <p>© 2025 Thomas Watson</p>
  </footer>

  <script>
    // --- TOGGLE LOGIC ---
    function toggleDescription(btn) {
        const card = btn.closest('.card');
        const textSpan = btn.querySelector('span');
        
        // Toggle class
        card.classList.toggle('expanded');
        
        // Update text
        if (card.classList.contains('expanded')) {
            textSpan.textContent = "Hide Details";
        } else {
            textSpan.textContent = "View Details";
        }
    }

    // --- SLIDESHOW LOGIC ---
    const slideshowData = {};

    function initializeSlideshow(projectId) {
        if (!slideshowData[projectId]) {
            const projectItem = document.querySelector(`.card[data-project-id="${projectId}"]`);
            if (!projectItem) return; 
            const slides = projectItem.querySelectorAll('.slide');
            const captions = Array.from(slides).map(slide => slide.querySelector('img').alt || '');
            slideshowData[projectId] = {
                slideIndex: 0, 
                slides: slides, 
                captions: captions, 
                timer: null,
                captionElement: projectItem.querySelector('.caption-container')
            };
        }
    }

    function showSlide(projectId, index) {
        initializeSlideshow(projectId);
        const data = slideshowData[projectId];
        if (!data || !data.slides || data.slides.length === 0) return;
        
        if (index >= data.slides.length) { index = 0; }
        if (index < 0) { index = data.slides.length - 1; }
        
        data.slides.forEach(slide => slide.classList.remove('active'));
        data.slides[index].classList.add('active');
        data.slideIndex = index;
        
        if (data.captionElement) {
            data.captionElement.style.opacity = 0;
            setTimeout(() => {
                data.captionElement.textContent = data.captions[index] || '';
                data.captionElement.style.opacity = 1;
            }, 150);
        }
    }

    function manualSlideChange(projectId, n) {
        initializeSlideshow(projectId);
        const data = slideshowData[projectId];
        if (!data) return;
        stopAutoSlide(projectId);
        showSlide(projectId, data.slideIndex + n);
        setTimeout(() => startAutoSlide(projectId), 8000); 
    }

    function startAutoSlide(projectId) {
        initializeSlideshow(projectId);
        const data = slideshowData[projectId];
        if (!data || data.slides.length <= 1) return;
        stopAutoSlide(projectId); 
        data.timer = setInterval(() => {
            showSlide(projectId, data.slideIndex + 1);
        }, 5000);
    }

    function stopAutoSlide(projectId) {
        if (slideshowData[projectId] && slideshowData[projectId].timer) {
            clearInterval(slideshowData[projectId].timer);
            slideshowData[projectId].timer = null;
        }
    }

    // --- INITIALIZATION & DEEP LINKING ---
    document.addEventListener('DOMContentLoaded', () => {
        // 1. Init all slideshows
        const projectCards = document.querySelectorAll('.card[data-project-id]');
        projectCards.forEach(card => {
            const projectId = card.dataset.projectId;
            initializeSlideshow(projectId);
            showSlide(projectId, 0); 
            startAutoSlide(projectId);
        });

        // 2. Check URL Hash for Deep Linking (e.g., #robot-hand-project)
        const hash = window.location.hash.substring(1); // Get ID without '#'
        if (hash) {
            const targetCard = document.querySelector(`.card[data-project-id="${hash}"]`);
            if (targetCard) {
                // Expand the card
                const toggleBtn = targetCard.querySelector('.toggle-bar');
                if (toggleBtn) {
                    toggleDescription(toggleBtn);
                }
                // Smooth scroll to it after a brief delay
                setTimeout(() => {
                    targetCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 500);
            }
        }
    });
  </script>

</body>
</html>
